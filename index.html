<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="天生极客">
<meta property="og:type" content="website">
<meta property="og:title" content="王子子的成长之路">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="王子子的成长之路">
<meta property="og:description" content="天生极客">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="王子子的成长之路">
<meta name="twitter:description" content="天生极客">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title> 王子子的成长之路 </title><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">王子子的成长之路</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
    
      <p class="site-subtitle">王子子</p>
    
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-course">
          <a href="/categories/历程" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-blind"></i> <br />
            
            历程
          </a>
        </li>
      
        
        <li class="menu-item menu-item-study">
          <a href="/categories/学习" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-plug"></i> <br />
            
            学习
          </a>
        </li>
      
        
        <li class="menu-item menu-item-essay">
          <a href="/categories/随笔" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-optin-monster"></i> <br />
            
            随笔
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/04/26/sklearn学习笔记-3 回归模型/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="王子子">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="http://ww3.sinaimg.cn/large/646083e8jw1e4k8rg9xhdj20ai0am3z6.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="王子子的成长之路">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="王子子的成长之路" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/04/26/sklearn学习笔记-3 回归模型/" itemprop="url">
                  sklearn学习笔记-3 回归模型
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-04-26T21:42:52+08:00">
                2017-04-26
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/学习/" itemprop="url" rel="index">
                    <span itemprop="name">学习</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="回归模型">回归模型：</h2>
<h3 id="线性回归模型">线性回归模型</h3>
<h4 id="感知器模型"><strong>感知器模型</strong></h4>
<p>最简单的模型，多层感知器MLP即最简单的深度学习网络。<br>
感知器模型通过循环修正计算误差进行修正，因此没有没有学习率；在学习中，需要指定学习次数（例如学习样本数），否则感知器模型会无休止的进行下去。<br>
基础（单层）感知器模型是非常弱的模型，不会存在过拟合的情况。</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">sklearn.linera_model.Perceptron(penalty<span class="op">=</span><span class="va">None</span>, alpha<span class="op">=</span><span class="fl">0.0001</span>, fit_intercept<span class="op">=</span><span class="va">True</span>, n_iter<span class="op">=</span><span class="dv">5</span>,   shuffle<span class="op">=</span><span class="va">True</span>, verbose<span class="op">=</span><span class="dv">0</span>, eta0<span class="op">=</span><span class="fl">1.0</span>, n_jobs<span class="op">=</span><span class="dv">1</span>. random_state <span class="op">=</span> <span class="dv">0</span>, class_weight<span class="op">=</span><span class="va">None</span>,   warm_start<span class="op">=</span><span class="va">False</span>)  </code></pre></div>
<p><strong>参数</strong></p>
<ul>
<li>penalty：正则惩罚项，默认为0<br>
</li>
<li>fit_intercept：截距<br>
</li>
<li>n_iter：迭代次数<br>
</li>
<li>shuffle：洗牌<br>
</li>
<li>verbose：打印日志等级<br>
</li>
<li>eta0 ：学习率<br>
</li>
<li>n_jobs：启动线程数，-1代表最大</li>
</ul>
<p><strong>实例</strong></p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">df <span class="op">=</span> pd.read_csv(<span class="vs">r&#39;D:\BaiduYunDownload\sklearn\3.0 线性模型\adultTest.csv&#39;</span>)  
<span class="co">#将object变量（字符串）制成稀疏矩阵，class是目标变量，不用放入  </span>
dfNew<span class="op">=</span>pd.get_dummies(df,columns<span class="op">=</span>[<span class="st">&#39;workclass&#39;</span>,<span class="st">&#39;education&#39;</span>,<span class="st">&#39;marital-status&#39;</span>,<span class="st">&#39;occupation&#39;</span>,<span class="st">&#39;relationship&#39;</span>,<span class="st">&#39;race&#39;</span>,<span class="st">&#39;sex&#39;</span>, <span class="st">&#39;native-country&#39;</span>])  
  
dfNew[<span class="st">&#39;target&#39;</span>] <span class="op">=</span> dfNew[<span class="st">&#39;class&#39;</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: <span class="dv">1</span> <span class="cf">if</span> x <span class="op">==</span> <span class="vs">r&#39; &lt;=50K&#39;</span> <span class="cf">else</span> <span class="dv">0</span>)  <span class="co"># 将结果二分为1和0  </span>
xdata <span class="op">=</span> dfNew.drop([<span class="st">&#39;class&#39;</span>,<span class="st">&#39;target&#39;</span>],axis <span class="op">=</span> <span class="dv">1</span>)  <span class="co"># 测试集  </span>
ydata <span class="op">=</span> dfNew[<span class="st">&#39;target&#39;</span>]  <span class="co"># 结果集  </span>
  
<span class="im">from</span> sklearn.linear_model <span class="im">import</span> Perceptron  <span class="co"># 调用感应器模型函数  </span>
per <span class="op">=</span> Perceptron(n_iter<span class="op">=</span><span class="dv">20</span>)  <span class="co"># 创建对象并设定迭代次数为20  </span>
per.fit(xdata,ydata)  <span class="co"># 训练模型  </span>
<span class="bu">print</span>(per.predict(xdata))  <span class="co"># 对模型进行预测  </span>
<span class="bu">print</span>(per.score(xdata,ydata))  <span class="co"># 对模型进行准确率评估  </span></code></pre></div>
<p>tips：感知器没有概率值</p>
<h4 id="线性回归模型-1"><strong>线性回归模型</strong></h4>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">sklearn.linear_model.LinearRegression9(fit_intercept <span class="op">=</span> <span class="va">True</span>, normalize <span class="op">=</span> <span class="va">False</span>, copy_X <span class="op">=</span> <span class="va">True</span>, n_jobs <span class="op">=</span> <span class="dv">1</span>)  </code></pre></div>
<p><code>fit_intercept</code>：是否计算截距<br>
<code>normalize</code>：是否对整个样本进行数据标准化，线性模型并不依赖于正则，所以此参数无意义。</p>
<p>线性回归模型需要接受一个连续性的变量，以达到预测。</p>
<p>在线性模型中，更复杂的模型会用到alpha惩罚项，简称a，并且会通过数据集的定义方式选择raige函数和lasso函数。</p>
<p><strong>raige和lasso的区别</strong></p>
<p>raige接受l2的正则，lasso接受l1的正则。<br>
raige：(w1)<sup>2+(w2)</sup>2+(w3)^2…，每个权重平方相加；lasso:|w1|+|w2|+|w3|…，每个权重绝对值相加。<br>
lasso接受的l1范数，所以得到的解可能是稀疏的，导致很多系数的权重都为0；raige接受l2的范数，得到的解不会为0。<br>
从方便的角度考虑，我们更多的使用l2范数的raige。</p>
<p><strong>交叉验证（Cross validation)</strong><br>
交叉验证用于防止模型过于复杂而引起的过拟合。有时亦称循环估计，是一种统计学上将数据样本切割成较小子集的实用方法。于是可以先在一个子集上做分析，而其它子集则用来做后续对此分析的确认及验证。交叉验证是一种评估统计分析、机器学习算法对独立于训练数据的数据集的泛化能力（generalize）。<br>
在sklearn的在线性模型中，为了保证模型值，我们可以使用后续加CV的函数来进行交叉验证：</p>
<p><code>alpha</code>：接受一个数组，数组内是所有认为有效的a的值，函数会自动选择最优值<br>
<code>cv</code>：接受交叉验证的切分份数<br>
<code>scoring</code>：评估指标，不填写会选择默认指标进行判断，也接受填写最小绝对值误差/最小均方误差，一般不填写<br>
其他同上</p>
<p>在进行CV时，有时可能会遇到被切分的样本内没有1，或者样本不均匀的问题，因此我们调用分层函数进行解决:</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="im">from</span> sklearn.cross_validation <span class="im">import</span> StratifiedKFold<span class="co">#调用分层函数  </span>
sf <span class="op">=</span> StratifiedKFold(ydata,n_folds<span class="op">=</span><span class="dv">5</span>)  <span class="co"># 创建对象并选择分为几层，避免发生稀疏矩阵的数据不均匀的问题  </span></code></pre></div>
<p>这种情况在分类模型中才会发生，回归模型的y是连续值，因此不必进行分层。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/04/17/sklearn学习笔记-2 数据处理/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="王子子">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="http://ww3.sinaimg.cn/large/646083e8jw1e4k8rg9xhdj20ai0am3z6.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="王子子的成长之路">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="王子子的成长之路" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/04/17/sklearn学习笔记-2 数据处理/" itemprop="url">
                  sklearn学习笔记-2 数据处理
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-04-17T22:54:52+08:00">
                2017-04-17
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/学习/" itemprop="url" rel="index">
                    <span itemprop="name">学习</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="稀疏和非稀疏">稀疏和非稀疏</h2>
<p>在矩阵中，若数值为0的元素数目远远多于非0元素的数目时，则称该矩阵为稀疏矩阵；与之相反，若非0元素数目占大多数时，则称该矩阵为稠密矩阵。<del>稀疏被称为L1，非稀疏被称为L2</del>。</p>
<h2 id="数据标准化">2.1 数据标准化</h2>
<ul>
<li>特征决定了模型的上限，算法决定了如何逼近这个上限<br>
</li>
<li>对业务了解的越多，提出的特征越好<br>
</li>
<li>sklearn的数据处理能力现在非常强大，能处理文本、图片或更多的数据<br>
</li>
<li>在数据量纲不一样时，需要对数据进行标准化，一般来说，涉及到梯度下降的模型，和涉及到距离的模型，都需要做数据标准化。</li>
</ul>
<p><strong>定义</strong><br>
标准化1(常用的标准化）：减去一列的平均数再除以标准差，使其符合平均数为0标准差为1的高斯分布。<br>
标准化2：压缩数据至0到1<br>
树类模型不需要标准化。<br>
标准化不能在训练集和测试集上分开进行（两个集的平均数和标准差不同），应当在测试集上应用训练集的标准化（减去标准化的平均数，除以标准化的标准差）。<br>
把训练集和测试集放在一起做标准化也不是一种较好的办法，最优的办法是在训练集上做标准化，并transform到测试集中。</p>
<h3 id="scale"><strong>scale</strong></h3>
<p>用于针对列的数据标准化</p>
<p><strong>函数</strong><br>
sklearn.preprocessing.scale(X,axis=0,with_mean=True,with_std=True,copy=True)<br>
X传入数组，支持pandas数据框,axis=0按列处理，mean=True平均数接近0，std=True标准差接近1<br>
<strong>方法</strong><br>
sklearn.preprocessing.StandarScaler(with_mean=True,with_std=True,copy=True)<br>
相比方法，函数很少被用到，因为该方法没有transform接口。<br>
当数据不以时间为顺序时，可以随机划分训练集和测试集。</p>
<p><strong>随机划分数据集</strong></p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="im">from</span> sklearn.cross_validation <span class="im">import</span> train_test_split<span class="co">#调取切割函数  </span>
X_train, X_test, y_train, y_test <span class="op">=</span> train_test_split(df1,df[<span class="st">&#39;area&#39;</span>],train_size<span class="op">=</span><span class="fl">0.7</span>)   <span class="co"># 数据参数，数据结果，切分为测试集的比例  </span>
<span class="co"># X_train是被切分为训练集的比例，X_test是被切分为测试集的比例，y相同  </span></code></pre></div>
<p>在一个函数内训练两个集，目的是为了不破坏索引顺序</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">标准化数据1（正态数据）  
<span class="im">from</span> sklearn.preprocessing <span class="im">import</span> StandardScaler<span class="co">#调取标准化函数  </span>
ss<span class="op">=</span>StandardScaler()<span class="co">#创建标准化对象  </span>
ss.fit(X_train)<span class="co">#以训练集训练标准化对象  </span>
X_train_ss<span class="op">=</span>ss.transform(X_train)<span class="co">#将训练结果应用于训练集  </span>
X_test_ss<span class="op">=</span>ss.transform(X_test)<span class="co">#将训练结果用于与测试集  </span></code></pre></div>
<p>此时，返回的结果都是numpy形式的多维数组。<br>
每一组的平均值无限接近于0，标准差无限接近于1。</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">标准化数据2（压缩数据）  
<span class="im">from</span> sklearn.preprocessing <span class="im">import</span> MinMaxScaler<span class="co">#调取压缩函数  </span>
mms <span class="op">=</span> MinMaxScaler()<span class="co">#创建标准化对象  </span>
mms.fit(X_train)<span class="co">#依然以训练集训练标注化对象  </span>
<span class="co">#...  </span></code></pre></div>
<p>以上标准化方法，都是对每一列（每一个特征进行标准化）</p>
<h3 id="normalize"><strong>normalize</strong></h3>
<p>对整个样本进行数据标准化（正则）</p>
<p><strong>函数</strong><br>
sklearn.preprocessing.normalize(X, norm=‘12’, axis=1 ,copy=True, return_norm=False)<br>
<strong>方法</strong><br>
sklearn.preprocessing.Normalizer(norm=‘12’, copy=True)</p>
<p>normalize针对样本，但样本间是独立的，因此该方法的transform无意义（整个样本都被转换了，单个使用时就不必transform），只会在papline中有意义。<br>
该方法只会用于计算距离、无监督学习的聚类中使用。默认接受L2 <del>（稠密矩阵）</del></p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="im">from</span> sklearn.preprocessing <span class="im">import</span>  Normalizer  <span class="co"># 调用正则函数  </span>
norm <span class="op">=</span> Normalizer()  <span class="co"># 创建初始化对象  </span>
norm.fit((X_train))  <span class="co"># 虽然无意义，仍需要按照标准书写  </span>
norm.transform(X_train)  <span class="co"># 虽然无意义，仍需要按照标准书写  </span>
norm.transform(X_test)  <span class="co"># 虽然无意义，仍需要按照标准书写  </span></code></pre></div>
<h2 id="分类值与缺失值">2.2 分类值与缺失值</h2>
<h3 id="binarizer"><strong>binarizer</strong></h3>
<p>用作数据二分化的分类，将一个连续性变量改为离散变量。</p>
<p>数据离散化的好处：数据存储空间小，并且因为0不参与运算（相加为原值，相乘为0）使运算速度非常快。<br>
离散化也能较好的处理缺失值，可以将缺失值单独的形成一个特征，出现缺失值的行为1.<br>
逻辑回归非常偏好离散化完成的数据</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="im">from</span> sklearn.preprocessing <span class="im">import</span> Binarizer<span class="co">#调取二分数据函数  </span>
bi <span class="op">=</span> Binarizer(<span class="dv">548</span>)<span class="co">#创建对象定义分类标准，大于该值会被分为1，小于为0  </span>
DC_bi<span class="op">=</span>bi.fit_transform(df[<span class="st">&#39;DC&#39;</span>])<span class="co">#调用对象进行分类  </span></code></pre></div>
<p>当使用一列表示象征性的分类时，不要使用数字，因为程序sklearn会认为该特征的大小和顺序是有意义的，正确的做法是对少量参数进行稀释矩阵。<br>
构建稀疏矩阵：skleran的OneHotEncoder非常不好用还容易报错，因此我们使用pandas的get_dummies()。</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">pd.get_dummies(data<span class="op">=</span>df, columns<span class="op">=</span>[<span class="st">&#39;month&#39;</span>,<span class="st">&#39;day&#39;</span>,<span class="st">&#39;DC_bi&#39;</span>])  </code></pre></div>
<h3 id="缺失值"><strong>缺失值</strong></h3>
<p>缺失值有时是真实存在的，缺失是存在意义的，并且当数据不够大时，删除缺失值只会浪费样本。<br>
因此，更好的方式是填充缺失值，填充方式尽量通过业务的理解来进行填充。</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="im">from</span> sklearn.preprocessing <span class="im">import</span> Imputer<span class="co">#调用填充缺失值函数，该函数默认填充平均值  </span>
im<span class="op">=</span>Imputer()<span class="co">#创建对象  </span>
dfna<span class="op">=</span>im.fit_transform(df[<span class="st">&#39;DC_na&#39;</span>])<span class="co">#选出需要填充的列并输出列  </span></code></pre></div>
<p>Tips：<br>
1. 这里有错误，训练出来的列长度并不等于原来的长度，因此还是寄希望于pandas来处理<br>
2. sklearn有些函数不支持缺失值或无限大、无限小的数据，因此通过pandas将此类数据设为缺失值，并且一次性的处理它。<br>
3. 缺失值可以使用-999代替。</p>
<h2 id="变量选择">2.3 变量选择</h2>
<h3 id="特征选取"><strong>特征选取</strong></h3>
<p>共线性特征，只保留一个就可以，可以用皮尔逊共线测试一下。<br>
当特征过多时，只保留重要特征，删除掉不重要的参数也可以提高准确率。</p>
<p>针对稀疏矩阵判断特征的两种方式：<br>
1. 使用lasso来选择特征</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="im">from</span> sklearn.linear_model <span class="im">import</span> Lasso  <span class="co"># 从线性模型这种调取能判断参数重要性的函数lasso()  </span>
lasso <span class="op">=</span> Lasso()  <span class="co"># 创建对象  </span>
lasso.fit(xdata,ydata)  <span class="co">#   fit不接受缺失值，使用前记得填充缺失值为-999。第一个参数为参数df，第二个参数为结果df  </span>
<span class="bu">print</span>(lasso.coef_)  <span class="co"># 打印特征重要程度，可以删除无限接近于0的特征  </span></code></pre></div>
<p>所有的稀疏矩阵类型，都可以放入此函数进行判断。</p>
<ol start="2" style="list-style-type: decimal">
<li><p>使用featureselect来选择特征：</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="im">from</span> sklearn.feature_selection <span class="im">import</span> SelectFromModel  <span class="co"># 调用参数选择模型  </span>
model <span class="op">=</span> SelectFromModel(lasso)  <span class="co"># 创建对象并直接传入模型，相当于省略了fit步骤  </span>
model.fit_transform()  <span class="co"># 无意义，为了是一个popline，另外sklearn不接受异常值，这里因为极大和极小值的存在，会报错。  </span></code></pre></div></li>
</ol>
<p>支持LR回归，简单线性回归<br>
当特征是连续性，我们希望方差越大越好</p>
<h3 id="特诊判断"><strong>特诊判断</strong></h3>
<p>基于树形模型对特征进行判断：</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="im">from</span> sklearn.ensemble <span class="im">import</span> RandomForestRegressor<span class="co">#从随机森林库中调取树类特征选择函数  </span>
rf <span class="op">=</span> RandomForestRegressor()<span class="co">#创建对象  </span>
rf.fit(xdata,ydata)<span class="co">#训练模型，第一个参数为参数df，第二个参数为结果df  </span>
<span class="bu">print</span>(rf.feature_importances_)<span class="co">#打印特征重要程度，数值越接近于0，意义越小  </span></code></pre></div>
<h3 id="提到的pandas相关操作">提到的pandas相关操作</h3>
<p>.head():读取前五行数据<br>
df.loc[ : ,x:y]:索引选取x到y列的数据<br>
df[0, : ]维度转换<br>
pd.cut(df[‘’],n)：将padans中的一列均匀的切分成n份，返回的值是一个字符串。<br>
pd.get_dummies(data, prefix = None, prefix_sep = ’_’, dummy_na = False, columns=None, sparse = False, drop_first = False)：函数接受一个df表格以及使用columns选取的列，函数会删除原来的列并对其进行稀疏化矩阵的扩充，使其变为0/1形式，返回一个重新构建好的df表格。<br>
df.loc[df[‘DC’]&gt;=600,‘DC_na’] = np.nan ：对df行中的DF列大于等于600的，新建一列设为NaN。<br>
df.replace(np.inf,np.nan)：替换过大值为NaN</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/22/天池赛IJCAI-17 口碑商家客流量预测 解题思路/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="王子子">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="http://ww3.sinaimg.cn/large/646083e8jw1e4k8rg9xhdj20ai0am3z6.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="王子子的成长之路">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="王子子的成长之路" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/22/天池赛IJCAI-17 口碑商家客流量预测 解题思路/" itemprop="url">
                  天池赛IJCAI-17 口碑商家客流量预测 解题思路
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-22T21:40:03+08:00">
                2017-03-22
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/历程/" itemprop="url" rel="index">
                    <span itemprop="name">历程</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://tianchi.shuju.aliyun.com/competition/information.htm?spm=5176.100067.5678.2.zu3kSJ&amp;raceId=231591" target="_blank" rel="external">赛题与数据</a><br>
<a href="https://github.com/heavysheep/tianchi" target="_blank" rel="external">代码</a></p>
<h2 id="基本数据创建">基本数据创建</h2>
<p><strong>result</strong>：每家店铺每日交易成功数量<br>
<strong>view</strong>：每家店铺每日浏览量</p>
<h2 id="参数分解">参数分解</h2>
<h3 id="shop_info">shop_info</h3>
<table>
<thead>
<tr class="header">
<th align="center">shop_id</th>
<th align="center">city_name</th>
<th align="center">location_id</th>
<th align="center">per_pay</th>
<th align="center">score</th>
<th align="center">comment_cnt</th>
<th align="center">shop_level</th>
<th align="center">cate_name..</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">商家id</td>
<td align="center">城市名</td>
<td align="center">所在位置编号</td>
<td align="center">人均消费</td>
<td align="center">评分</td>
<td align="center">评论数</td>
<td align="center">商铺等级</td>
<td align="center">分类</td>
</tr>
</tbody>
</table>
<p><strong>shop_id</strong>：主键，索引<br>
<strong>city_name</strong>：获取气温、消费能力、消费习惯<br>
<strong><del>location_id</del></strong>：聚类算法，估计功效太低没什么意义，pass<br>
<strong>per_pay</strong>：检测与result负相关，与view负相关。<br>
<strong>socre</strong>：检测与result正相关，与view正相关。<br>
<strong>comment_cnt</strong>：检测与result正相关，与view正相关。<br>
<strong>shop_level</strong>：检测与result正相关，与view正相关。<br>
<strong>cate_name</strong>：分类太细，考虑只保留使用“超市”和“美食”进行区分。</p>
<p>检测<strong>per_pay</strong>、<strong>score</strong>、<strong>comment_cnt</strong>、<strong>shop——level</strong>与<strong>view</strong>、<strong>result</strong>的关联度。<br>
score有很大的问题：这个值是处于变动的。</p>
<h3 id="user_pay">user_pay</h3>
<table>
<thead>
<tr class="header">
<th align="center">user_id</th>
<th align="center">shop_id</th>
<th align="center">time_stamp</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">付费用户id</td>
<td align="center">商家id</td>
<td align="center">消费时间</td>
</tr>
</tbody>
</table>
<p><strong>time_stamp</strong>：分解出日期<strong>day</strong>和时间<strong>time</strong>列。</p>
<h3 id="user_view">user_view</h3>
<table>
<thead>
<tr class="header">
<th align="center">user_id</th>
<th align="center">shop_id</th>
<th align="center">time_stamp</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">浏览用户id</td>
<td align="center">商家id</td>
<td align="center">浏览时间</td>
</tr>
</tbody>
</table>
<p><strong>time_stamp</strong>：分解出日期<strong>day</strong>和时间<strong>time</strong>列。</p>
<h2 id="特征工程">特征工程</h2>
<p>1.考虑到口碑是2015年6月23日开始发布，必然遭遇冷启动和虚假数据问题，那么时间序列中，体现趋势的指标应该是7日移动平均线ma，影响最大的特征因子应该是最近一次的ma_7。<br>
2.城市天气逻辑体现非常重要，主要划分了三级（晴，小雨/小雪/，大雨/雪），但划分后的效果并不很好。<br>
3.当日是否为工作日，次日是否为工作日比较重要。<br>
4.16年情人节到过年的那周视为噪音。<br>
5.GDP作为特征果然没效果，删了。</p>
<h2 id="感受">感受</h2>
<p>1.以不同可索引对象制造的模型再融合有巨大威力，第一次瞎配的权重都带来了最好的提升。<br>
2.solo的问题不在于想法…判断出哪个想法提升最多是最重要的，当然这需要经验。<br>
3.xgboost因为bug跑不起来，没时间走ARIMA，也没时间再上prophet，凄苦…水平不够时候有队友提升会比较快。<br>
4.合理利用每日评分确定正确方向是非常有必要的，相信前几的差距已经是谁对趋势判断更敏锐了。<br>
5.全身心的投入大约勉强能进前200，看wepon大神的blog，对底层的理解还是很重要，今后要加强学习和训练。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/17/最近在做测试/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="王子子">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="http://ww3.sinaimg.cn/large/646083e8jw1e4k8rg9xhdj20ai0am3z6.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="王子子的成长之路">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="王子子的成长之路" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/17/最近在做测试/" itemprop="url">
                  最近在做测试
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-17T14:25:46+08:00">
                2017-03-17
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/历程/" itemprop="url" rel="index">
                    <span itemprop="name">历程</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>最近一直在忙测试相关工作，记录下测试工作心得：<br>
1.重要的不仅只是懂业务流程，也要把思路抽离在流程之外。因为产品在设计时，往往会先定下大的方向，再逐渐寻找最优路线，在不停的修改中，也许已经偏离“可用”的轨道，此时测试应该代入的是用户的思路，对测试时找到的BUG，提出期望结果；对不合适的流程，也要提出优化期望。<br>
2.细化的测试用例很重要，一方面可用于自动化测试的架构，另一方面，越细的测试用例，在写的时候就能发现非常多的问题。<br>
3.如果作为懂技术的测试人员，对于测出的问题，应该做到比写这个功能的开发了解的更透彻，这也是一个测试人员平庸和杰出的分水岭。<br>
4.测试人员是产品和开发扯皮中的重要第三方，沟通非常重要。<br>
5.同上，测试“可信任”也是非常重要的，对能复现的问题，一定要通过复现从而找出问题；对不能复现的问题，记录下相关操作以便将来找出原因，直觉是知识、感官的积累，对于难以找到原因的问题，直觉非常重要。<br>
6.最好的用例就是文档，文档即用例。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/24/Paxos算法简易理解/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="王子子">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="http://ww3.sinaimg.cn/large/646083e8jw1e4k8rg9xhdj20ai0am3z6.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="王子子的成长之路">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="王子子的成长之路" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/24/Paxos算法简易理解/" itemprop="url">
                  Paxos算法简易理解
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-24T13:32:31+08:00">
                2017-02-24
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/学习/" itemprop="url" rel="index">
                    <span itemprop="name">学习</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="简介">简介</h2>
<p>Paxos算法简单来说就是一个在异步分布式系统里用以保证一致性的投票算法，严格来说，Paxos并不是一个算法，而是一个经过严谨逻辑推导出的投票方式。该算法由莱斯利·兰伯特于1990年提出，只由一些必须要被满足的基本条件推导得出，因此Paxos是在所有分布式算法中最简单，同时也是最稳定的算法。</p>
<p>Paxos应用于“基于消息传递且要求具有高度容错特性”的场景，在“共享内存”的分布式场景中并不适用，另外，虽然有许多基于Paxos的一致性算法，但都没有paxos稳定。</p>
<p>谷歌在其分布式锁服务（Chubby lock）中应用了Paxos算法。Yahoo!开源的ZooKeeper是一个开源的类Paxos实现，而hadoop也支持ZooKeeper协议。</p>
<blockquote>
<p>这个世界上只有一种一致性算法，那就是Paxos，其它的算法都是残次品 – Mike Burrows</p>
</blockquote>
<h2 id="算法假设">算法假设</h2>
<p>1.不存在<a href="https://zh.wikipedia.org/wiki/%E6%8B%9C%E5%8D%A0%E5%BA%AD%E5%B0%86%E5%86%9B%E9%97%AE%E9%A2%98" target="_blank" rel="external">拜占庭将军问题</a>（一条消息可能被传递两次，但在传递中不会出错） 2.只要等待足够的时间，消息就会被传到(信息必定到达） 3.每个节点对于信息，接收到信息即以为赞同，同时只有接受和忽略，没有反对。（只可根据赞成数来确定结果） 4.信息不一定会被成功传递，也无法确定传递时间。（包容传递失败，并确定在此条件下也能保持一致性） ##算法定义 在一个分布式系统中，每个节点会有最少1种，最多3种身份，分别是<strong>proposers（提案者）</strong>、<strong>acceptors（批准者）</strong>、<strong>learners（接受者）</strong>，他们在节点中相互传递信息被称为<strong>value（决议）</strong>。 1.决议只能被提案者提出，同时随决议附有一个编号，编号是递增且唯一的； 2.任何两个提案编号之间构成偏序（意味着提案者的编号大小是有意义的；同一次提案，提案者的权限是有等级分别的）； 3.在一次算法执行中，每个批准者一次只批准一条决议，并且只与最新的决议形成交互（意味着可能存在信息队列）； 4.收到超过半数的表态，即视为通过决议，并向所有人广播； 5.接受者只能获得最终被批准的决议。 需要注意的是，节点可以同时拥有三种身份，当节点既是提案者，又是批准者时，他必定会为自己提出的决议投出一票。</p>
<h2 id="实例">实例</h2>
<p>东方网准备开一场主题为“智橙生活未来发展方向”的会议，与会人员分别是董事长何XX、副董事长徐XX、纪委书记金X、副总裁高X、技术总监老王。与会人员都可以<strong>提案</strong>和<strong>赞同</strong>，一人一票。其他未与会人员例如开发、产品、数据分析师等，只能<strong>接受</strong>讨论结果（定义5）。</p>
<p>第一天：董事长提案智橙生活应该主打“上海市民离不开的产品”，其他4人纷纷表示“赞同”，董事长收到其他4人的表态，开心的表示全票通过，向所有人广播<strong>“产品基调定好，新的提案不得再讨论本问题”</strong>，全场统一。</p>
<p>第二天：董事长提案智橙生活应该添加“为民办事”功能，老王不能装作听不见，只好表示“赞同”（假设3），副总裁和纪委书记睡着了，无法表态，董事长等了半天只等到了两个表态，表示少两人老子照样干，加上自己一票通过了决议（定义4），向所有人广播<strong>“功能确定，新的提案不得再讨论本问题”</strong>，全场统一。</p>
<p>第三天：副总裁和纪委书记睡醒了，发现了董事长的提案，但同时（或更早）收到了提案结果的广播，于是他们<strong>不必再对此提案表态</strong>，全场统一。</p>
<p>第四天：轮到老王提案，他提出了“打磨产品，塑造核心功能点”的主旨，这时其他4位领导都睡着了，老王未获得任何表态。<strong>决议失败，不能向任何人广播。只能重新提案</strong>，全场统一。</p>
<p>第五天：4位领导终于都醒了，这时董事长提出了“尽可能多的造功能，我们要做一款万能APP”的主旨，老王再次提出昨天的提案，其他三位领导先听见了董事长的训示，纷纷表态支持，这时才反应过来老王有一份同样的提案，这时有两种情况：</p>
<p>老王职级低：其他领导表态后收到了老王的提案并发现是相同的提案（定义3），但老王的职级比他们的低，因此会<strong>忽略</strong>老王的提案，全场统一。</p>
<p>老王职级高：其他领导表态后收到了老王的提案并发现是相同的提案（定义3），他们会向老王<strong>回复之前已经通过了的提案及其内容并忽略投票</strong>，这样老王会知道自己的提案无望，全场统一。</p>
<p>第六天：董事长和老王同时说出对一件事的提案，并且获得邻座（近邻节点）的迅速反馈，此时老王邻座的副总裁和纪委书记先向老王表态“赞同”，当董事长的提案到来时，他们会再次表示“赞同”。而副董事长先向董事长的提案表示“赞同”后，收到了老王的提案，此时他将向老王表示“已有大人物关注此事，你不要插手”（定义2）。<strong>当信息传递结束，高权限必定获得更高的“赞同”</strong>，提案通过，全场统一。</p>
<p>第七天：老王总结出了深刻的人生哲理：在异步的任何情况下，即使<strong>某一节点出于某些原因无法接受信息，也绝不影响该节点以及总体对于一致性的检测</strong>，并且<strong>为了保证异步一致，权限相对较低的节点在提案和投票中处于较不利的位置</strong>。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>


          
          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="http://ww3.sinaimg.cn/large/646083e8jw1e4k8rg9xhdj20ai0am3z6.jpg"
               alt="王子子" />
          <p class="site-author-name" itemprop="name">王子子</p>
          <p class="site-description motion-element" itemprop="description">天生极客</p>
        </div>
        <nav class="site-state motion-element">
        
          
            <div class="site-state-item site-state-posts">
              <a href="/">
                <span class="site-state-item-count">10</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">3</span>
                <span class="site-state-item-name">分类</span>
              
            </div>
          

          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/heavysheep/" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.zhihu.com/people/wang-zi-zi-81-12/activities" target="_blank" title="知乎">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  知乎
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">王子子</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  




	





  





  





  



  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config("");
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="custom_mathjax_source">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->
  


  

  

  


</body>
</html>
